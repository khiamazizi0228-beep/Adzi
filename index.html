<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ADZI Coin</title>
  <style>
    html,body{margin:0;height:100%;overflow:hidden;background:#05080e;}
    canvas{display:block;}
  </style>
</head>
<body>
<script type="module">
import * as THREE from "https://unpkg.com/three@0.160.0/build/three.module.js";

/* ---------- Scene ---------- */
const scene = new THREE.Scene();
scene.fog = new THREE.Fog(0x05080e, 8, 30);

/* ---------- Camera ---------- */
const camera = new THREE.PerspectiveCamera(45, innerWidth/innerHeight, 0.1, 100);
camera.position.set(0, 0.4, 6.5);
camera.lookAt(0, 0, 0);

/* ---------- Renderer ---------- */
const renderer = new THREE.WebGLRenderer({ antialias:true });
renderer.setSize(innerWidth, innerHeight);
renderer.setPixelRatio(Math.min(devicePixelRatio,2));
renderer.outputColorSpace = THREE.SRGBColorSpace;
document.body.appendChild(renderer.domElement);

/* ---------- Lights ---------- */
scene.add(new THREE.AmbientLight(0xffffff, 0.35));

const key = new THREE.DirectionalLight(0xffffff, 1.0);
key.position.set(4, 4, 3);
scene.add(key);

const rim = new THREE.DirectionalLight(0x3de8ff, 0.9);
rim.position.set(-4, 2, -4);
scene.add(rim);

/* ---------- Stars ---------- */
function stars(count=1400){
  const g = new THREE.BufferGeometry();
  const p = new Float32Array(count*3);
  for(let i=0;i<count;i++){
    p[i*3+0]=(Math.random()-0.5)*40;
    p[i*3+1]=(Math.random()-0.5)*25;
    p[i*3+2]=(Math.random()-0.5)*40;
  }
  g.setAttribute("position", new THREE.BufferAttribute(p,3));
  const m = new THREE.PointsMaterial({color:0xffffff,size:0.035,opacity:0.9,transparent:true});
  scene.add(new THREE.Points(g,m));
}
stars();

/* ---------- ADZI Logo Texture ---------- */
function makeLogo(size=1024){
  const c=document.createElement("canvas");
  c.width=c.height=size;
  const ctx=c.getContext("2d");

  ctx.clearRect(0,0,size,size);

  // glow
  const g=ctx.createRadialGradient(size/2,size/2,0,size/2,size/2,size*0.45);
  g.addColorStop(0,"rgba(0,220,255,0.25)");
  g.addColorStop(1,"rgba(0,0,0,0)");
  ctx.fillStyle=g;
  ctx.fillRect(0,0,size,size);

  // text
  ctx.textAlign="center";
  ctx.textBaseline="middle";
  ctx.font="900 220px system-ui, -apple-system, Arial";
  ctx.fillStyle="#00dcff";
  ctx.shadowColor="rgba(0,220,255,0.8)";
  ctx.shadowBlur=35;
  ctx.fillText("ADZI",size/2,size/2);

  const tex=new THREE.CanvasTexture(c);
  tex.colorSpace=THREE.SRGBColorSpace;
  return tex;
}
const logoTex = makeLogo();

/* ---------- Coin ---------- */
const coin = new THREE.Group();
scene.add(coin);

// Front
const faceMat = new THREE.MeshStandardMaterial({
  map: logoTex,
  transparent:true,
  roughness:0.35,
  metalness:0.1,
  emissive:new THREE.Color(0x00dcff),
  emissiveIntensity:0.35
});
const front = new THREE.Mesh(new THREE.CircleGeometry(2.2,128), faceMat
);
front.position.z=0.15;
coin.add(front);

// Back (same logo, mirrored)
const back = new THREE.Mesh(new THREE.CircleGeometry(2.2,128), faceMat);
back.rotation.y=Math.PI;
back.position.z=-0.15;
coin.add(back);

// Edge
const edge = new THREE.Mesh(
  new THREE.CylinderGeometry(2.2,2.2,0.3,128,1,true),
  new THREE.MeshStandardMaterial({
    color:0x0b1c25,
    roughness:0.4,
    metalness:0.6,
    emissive:new THREE.Color(0x00dcff),
    emissiveIntensity:0.15
  })
);
edge.rotation.x=Math.PI/2;
coin.add(edge);

/* ---------- Animation ---------- */
const clock=new THREE.Clock();
function animate(){
  const t=clock.getElapsedTime();

  coin.rotation.y = t*0.6;
  coin.rotation.x = Math.sin(t*0.4)*0.15;
  coin.position.y = Math.sin(t*0.8)*0.15;

  renderer.render(scene,camera);
  requestAnimationFrame(animate);
}
animate();

/* ---------- Resize ---------- */
addEventListener("resize",()=>{
  camera.aspect=innerWidth/innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth,innerHeight);
});
</script>
</body>
</html>